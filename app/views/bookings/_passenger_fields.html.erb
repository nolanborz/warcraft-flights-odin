<%# app/views/bookings/_passenger_fields.html.erb %>
<div class="bg-white rounded-lg border border-gray-200 p-6" data-passengers-target="fields">
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-lg font-semibold text-gray-800">
      <% 
        # Get the actual count of existing passenger fields
        passenger_count = form.object_name.match(/\[(\d+)\]/).try(:[], 1).to_i + 1 
      %>
      Passenger <%= passenger_count %>
    </h3>
    <button type="button" 
            data-action="passengers#remove" 
            class="px-3 py-1 bg-red-500 text-white text-sm rounded-md hover:bg-red-600 transition-colors">
      Remove
    </button>
  </div>

  <div class="space-y-4">
    <div>
      <%= form.label :name, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.text_field :name, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <div>
      <%= form.label :email, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.email_field :email, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
    </div>
  </div>
</div>